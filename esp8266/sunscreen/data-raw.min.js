function GetURLParameter(e){for(var t=window.location.search.substring(1),o=t.split("&"),n=0;n<o.length;n++){var u=o[n].split("=");if(u[0]==e)return u[1]}}function updateResult(e){$("#result").html(e)}function openClose(e){let t="./Operate?targetPercentageOpen="+e+"&key="+key+"&timestamp="+Date.now();$.get(t,updateResult)}function updateMode(e){$("#span-mode").text(e.automatic_mode)}let key=GetURLParameter("key");$("#button-open").click(function(){openClose(100)}),$("#button-close").click(function(){openClose(0)}),$("#button-set-to").click(function(){openClose($("#target-percentage-select").val())}),$("#button-current").click(function(){$.get("./CurrentPosition?key="+key,updateResult)}),$("#button-mode").click(function(){$.post("./Automatic?key="+key,updateMode)}),$(function(){for(let e=100;e>=0;e-=10)$("#target-percentage-select").append(`<option value="${e}"> ${e} </option>`);$.get("./Automatic?key="+key,updateMode)});